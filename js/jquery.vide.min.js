function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?t(require("jquery")):t(e.jQuery)}(this,function(f){"use strict";var y="vide",n={volume:1,playbackRate:1,muted:!0,loop:!0,autoplay:!0,position:"50% 50%",posterType:"detect",resizing:!0,bgColor:"transparent",className:""},g="Not implemented";function r(e){for(var t,o,i,n,r={},s=e.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,",").split(","),a=0,p=s.length;a<p&&(-1===(o=s[a]).search(/^(http|https|ftp):\/\//)&&-1!==o.search(":"));a++)t=o.indexOf(":"),i=o.substring(0,t),"string"==typeof(n=(n=o.substring(t+1))||void 0)&&(n="true"===n||"false"!==n&&n),"string"==typeof n&&(n=isNaN(n)?n:+n),r[i]=n;return null==i&&null==n?e:r}function i(e,t,o){if(this.$element=f(e),"string"==typeof t&&(t=r(t)),o?"string"==typeof o&&(o=r(o)):o={},"string"==typeof t)t=t.replace(/\.\w*$/,"");else if("object"===_typeof(t))for(var i in t)t.hasOwnProperty(i)&&(t[i]=t[i].replace(/\.\w*$/,""));this.settings=f.extend({},n,o),this.path=t;try{this.init()}catch(e){if(e.message!==g)throw e}}i.prototype.init=function(){var e,t,o,i,n=this,r=n.path,s=r,a="",p=n.$element,c=n.settings,u=function(e){for(var t,o=(e=""+e).split(/\s+/),i="50%",n="50%",r=0,s=o.length;r<s;r++)"left"===(t=o[r])?i="0%":"right"===t?i="100%":"top"===t?n="0%":"bottom"===t?n="100%":"center"===t?0===r?i="50%":n="50%":0===r?i=t:n=t;return{x:i,y:n}}(c.position),d=c.posterType;function l(){i(this.src)}t=n.$wrapper=f("<div>").addClass(c.className).css({position:"absolute","z-index":-1,top:0,left:0,bottom:0,right:0,overflow:"hidden","-webkit-background-size":"cover","-moz-background-size":"cover","-o-background-size":"cover","background-size":"cover","background-color":c.bgColor,"background-repeat":"no-repeat","background-position":u.x+" "+u.y}),"object"===_typeof(r)&&(r.poster?s=r.poster:r.mp4?s=r.mp4:r.webm?s=r.webm:r.ogv&&(s=r.ogv)),"detect"===d?(i=function(e){t.css("background-image","url("+e+")")},f('<img src="'+(o=s)+'.gif">').on("load",l),f('<img src="'+o+'.jpg">').on("load",l),f('<img src="'+o+'.jpeg">').on("load",l),f('<img src="'+o+'.png">').on("load",l)):"none"!==d&&t.css("background-image","url("+s+"."+d+")"),"static"===p.css("position")&&p.css("position","relative"),p.prepend(t),e="object"===_typeof(r)?(r.mp4&&(a+='<source src="'+r.mp4+'.mp4" type="video/mp4">'),r.webm&&(a+='<source src="'+r.webm+'.webm" type="video/webm">'),r.ogv&&(a+='<source src="'+r.ogv+'.ogv" type="video/ogg">'),n.$video=f("<video>"+a+"</video>")):n.$video=f('<video><source src="'+r+'.mp4" type="video/mp4"><source src="'+r+'.webm" type="video/webm"><source src="'+r+'.ogv" type="video/ogg"></video>');try{e.prop({autoplay:c.autoplay,loop:c.loop,volume:c.volume,muted:c.muted,defaultMuted:c.muted,playbackRate:c.playbackRate,defaultPlaybackRate:c.playbackRate})}catch(e){throw new Error(g)}e.css({margin:"auto",position:"absolute","z-index":-1,top:u.y,left:u.x,"-webkit-transform":"translate(-"+u.x+", -"+u.y+")","-ms-transform":"translate(-"+u.x+", -"+u.y+")","-moz-transform":"translate(-"+u.x+", -"+u.y+")",transform:"translate(-"+u.x+", -"+u.y+")",visibility:"hidden",opacity:0}).one("canplaythrough."+y,function(){n.resize()}).one("playing."+y,function(){e.css({visibility:"visible",opacity:1}),t.css("background-image","none")}),p.on("resize."+y,function(){c.resizing&&n.resize()}),t.append(e)},i.prototype.getVideoObject=function(){return this.$video[0]},i.prototype.resize=function(){var e,t,o,i,n,r,s;this.$video&&(e=this.$wrapper,i=(o=(t=this.$video)[0]).videoHeight,n=o.videoWidth,(r=e.height())/i<(s=e.width())/n?t.css({width:s+2,height:"auto"}):t.css({width:"auto",height:r+2}))},i.prototype.destroy=function(){delete f[y].lookup[this.index],this.$video&&this.$video.off(y),this.$element.off(y).removeData(y),this.$wrapper.remove()},f[y]={lookup:[]},f.fn[y]=function(e,t){var o;return this.each(function(){(o=f.data(this,y))&&o.destroy(),(o=new i(this,e,t)).index=f[y].lookup.push(o)-1,f.data(this,y,o)}),this},f(document).ready(function(){var e=f(window);e.on("resize."+y,function(){for(var e,t=f[y].lookup.length,o=0;o<t;o++)(e=f[y].lookup[o])&&e.settings.resizing&&e.resize()}),e.on("unload."+y,function(){return!1}),f(document).find("[data-vide-bg]").each(function(e,t){var o=f(t),i=o.data(y+"-options"),n=o.data(y+"-bg");o[y](n,i)})})});